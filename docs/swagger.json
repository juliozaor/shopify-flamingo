{"openapi":"3.0.3","info":{"title":"Aliados Flamingo","version":"1.0.0","description":"Endpoints para [Aliados, Categorias, Usuarios]"},"paths":{"/api/v1/aliados/listar/{pagina}/{limite}":{"get":{"tags":["Aliados"],"summary":"Retorna una lista con los aliados","parameters":[{"$ref":"#/components/parameters/Pagina"},{"$ref":"#/components/parameters/Limite"},{"$ref":"#/components/parameters/AdministrarNoObligatorio"}],"responses":{"200":{"description":"Lista de aliados","content":{"application/json":{"schema":{"type":"object","properties":{"aliados":{"type":"array","items":{"$ref":"#/components/schemas/AliadoCuentaCategoria"}},"paginacion":{"type":"object","$ref":"#/components/schemas/Paginacion"}}}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/aliados/listar-grupo":{"get":{"tags":["Aliados"],"summary":"Retorna una lista de aliados agrupados de dos en dos","responses":{"200":{"description":"Lista de aliados por grupo","content":{"application/json":{"schema":{"type":"object","properties":{"aliados":{"type":"array","items":{"properties":{"aliado1":{"type":"object","$ref":"#/components/schemas/Aliado"},"aliado2":{"type":"object","$ref":"#/components/schemas/Aliado"}}}}}}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/aliados":{"post":{"tags":["Aliados"],"summary":"Crear aliado","parameters":[{"$ref":"#/components/parameters/AdministrarObligatorio"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"nombre":{"type":"string","description":"nombre del aliado"},"logo":{"type":"file","description":"logotipo"},"linkAmigable":{"type":"string","description":"Dirección web del aliado"},"tiempo":{"type":"integer","description":"duranción de la marcación en días"}},"required":["nombre","logo","linkAmigable","tiempo"]}}}},"responses":{"200":{"description":"Acción ejecutada correctamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Aliado"}}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/aliados/{idAliado}":{"get":{"tags":["Aliados"],"summary":"Busca un aliado por su id","parameters":[{"$ref":"#/components/parameters/IdentificadorAliado"}],"responses":{"200":{"description":"Aliado","content":{"application/json":{"$ref":"#/components/schemas/Aliado"}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}}}},"put":{"tags":["Aliados"],"summary":"Actualiza los datos de un aliado","parameters":[{"$ref":"#/components/parameters/IdentificadorAliado"},{"$ref":"#/components/parameters/AdministrarObligatorio"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"nombre":{"type":"string","description":"nombre del aliado"},"logo":{"type":"file","description":"logotipo"},"linkAmigable":{"type":"string","description":"Dirección web del aliado"},"tiempo":{"type":"integer","description":"duranción de la marcación en días"},"orden":{"type":"integer","description":"orden para mostrar el aliado"},"linkMarcacion":{"type":"string","description":"link autogenerado"},"llave":{"type":"string","description":"llave autogenerada para el aliado"}}}}}},"responses":{"200":{"description":"Acción ejecutada correctamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/200"}}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/aliados/buscar/{idAliado}":{"get":{"tags":["Aliados"],"summary":"Retorna las categorias de un aliado","parameters":[{"$ref":"#/components/parameters/IdentificadorAliado"}],"responses":{"200":{"description":"Lista de categorias","content":{"application/json":{"schema":{"type":"object","properties":{"categorias":{"type":"array","items":{"$ref":"#/components/schemas/CategoriasCompletas"}}}}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/aliados/buscar_categorias/{pagina}/{limite}":{"get":{"tags":["Aliados"],"summary":"Retorna una lista los aliados con categorías","parameters":[{"$ref":"#/components/parameters/Pagina"},{"$ref":"#/components/parameters/Limite"}],"responses":{"200":{"description":"Lista de aliados con categoría","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DestacadasAliadoCategoria"}}}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}}}}},"/api/v1/aliados/estado/{idAliado}":{"put":{"tags":["Aliados"],"summary":"Deshabilitar o habilitar aliado","parameters":[{"$ref":"#/components/parameters/IdentificadorAliado"},{"$ref":"#/components/parameters/AdministrarObligatorio"}],"responses":{"200":{"description":"Acción ejecutada correctamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/200"}}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/aliados/categoria/{idAliado}/{idCategoria}":{"put":{"tags":["Aliados"],"summary":"Deshabilitar o habilitar categoria de un aliado","parameters":[{"name":"idAliado","in":"path","required":true},{"name":"idCategoria","in":"path","required":true},{"$ref":"#/components/parameters/AdministrarObligatorio"}],"responses":{"200":{"description":"Acción ejecutada correctamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/200"}}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/categorias/listar/{pagina}/{limite}":{"get":{"tags":["Categorias"],"summary":"Retorna una lista de las categorias","parameters":[{"$ref":"#/components/parameters/Pagina"},{"$ref":"#/components/parameters/Limite"},{"$ref":"#/components/parameters/AdministrarNoObligatorio"}],"responses":{"200":{"description":"Lista de categorias","content":{"application/json":{"schema":{"type":"object","properties":{"categorias":{"type":"array","items":{"$ref":"#/components/schemas/Categoria"}},"paginacion":{"type":"object","$ref":"#/components/schemas/Paginacion"}}}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/categorias/destacadas/{pagina}/{limite}":{"get":{"tags":["Categorias"],"summary":"Retorna una lista los categorias con aliados","parameters":[{"$ref":"#/components/parameters/Pagina"},{"$ref":"#/components/parameters/Limite"}],"responses":{"200":{"description":"Lista de categorias con aliados","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DestacadasAliadoCategoria"}}}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}}}}},"/api/v1/categoria":{"post":{"tags":["Categorias"],"summary":"Crear categoria","parameters":[{"$ref":"#/components/parameters/AdministrarObligatorio"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"nombre":{"type":"string","description":"nombre de la categoria"}},"required":["nombre"]}}}},"responses":{"200":{"description":"Acción ejecutada correctamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Categoria"}}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/categorias/{idCategoria}":{"get":{"tags":["Categorias"],"summary":"Busca una categoría por su id","parameters":[{"$ref":"#/components/parameters/IdentificadorCategoria"}],"responses":{"200":{"description":"Categoría","content":{"application/json":{"$ref":"#/components/schemas/Categoria"}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}}}},"put":{"tags":["Categorias"],"summary":"Actualiza los datos de una categoría","parameters":[{"$ref":"#/components/parameters/IdentificadorCategoria"},{"$ref":"#/components/parameters/AdministrarObligatorio"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"nombre":{"type":"string","description":"nombre de la categoría"},"estado":{"type":"boolean","description":"disponibilidad de la categoría"}}}}}},"responses":{"200":{"description":"Acción ejecutada correctamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/200"}}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/categorias/buscar/{idCategoria}":{"get":{"tags":["Categorias"],"summary":"Retorna una lista con los aliados de una categoria","responses":{"200":{"description":"Lista de aliados","content":{"application/json":{"schema":{"type":"object","properties":{"aliados":{"type":"array","items":{"$ref":"#/components/schemas/AliadoDeCategoria"}}}}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/categorias/asignar":{"post":{"tags":["Categorias"],"summary":"Asignar categoria al aliado","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"imagen":{"type":"file","description":"Imagen de la categoría"},"categoria_id":{"type":"string","description":"Identificador de la categoría"},"aliado_id":{"type":"string","description":"Identificador del aliado"},"link_amigable_aliado":{"type":"string","description":"Link amigable aliado con categoría"},"destacada":{"type":"boolean","description":"Estado destacado de la categoría"}},"required":["imagen","categoria_id","aliado_id","link_amigable_aliado","destacada"]}}}},"responses":{"200":{"description":"Acción ejecutada correctamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/200"}}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}},"/api/v1/categorias/editar/{idAliado}/{idCategoria}":{"post":{"tags":["Categorias"],"summary":"Editar categoria de un aliado","parameters":[{"$ref":"#/components/parameters/IdentificadorAliado"},{"$ref":"#/components/parameters/IdentificadorCategoria"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"imagen":{"type":"file","description":"Imagen de la categoría"},"link_amigable_aliado":{"type":"string","description":"Link amigable aliado con categoría"},"destacada":{"type":"boolean","description":"Estado destacado de la categoría"},"estado":{"type":"boolean","description":"Disponibilidad de la categoría"},"orden":{"type":"integer","description":"Orden para mostrar"}}}}}},"responses":{"200":{"description":"Acción ejecutada correctamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/200"}}}},"400":{"description":"Petición incorrecta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/400"}}}},"500":{"description":"Error en el servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/500"}}}}}}}},"components":{"schemas":{"200":{"type":"object","properties":{"mensaje":{"type":"string","description":"Descripción de la respuesta"},"estado":{"type":"integer","description":"Estado de la respuesta"}},"example":{"mensaje":"Acción ejecutada correctamente","estado":200}},"400":{"type":"object","properties":{"mensaje":{"type":"string","description":"Descripción de la respuesta"},"estado":{"type":"integer","description":"Estado de la respuesta"}},"example":{"mensaje":"La petición no se realizo de manera correcta","estado":400}},"500":{"type":"object","properties":{"mensaje":{"type":"string","description":"Descripción de la respuesta"},"estado":{"type":"integer","description":"Estado de la respuesta"}},"example":{"mensaje":"Se presento un problema en el servidor","estado":500}},"Aliado":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Identificador autogenerado del aliado"},"nombre":{"type":"string","description":"Nombre del aliado"},"logo":{"type":"string","description":"Logotipo"},"orden":{"type":"integer","description":"Orden en que aparece el aliado"},"linkMarcacion":{"type":"string","description":"Link autogenerado para la marcación"},"linkAmigable":{"type":"string","description":"Dirección web del aliado"},"tiempo":{"type":"integer","description":"Duranción de la marcación en días"},"llave":{"type":"string","description":"Llave autogenerada"},"comision":{"type":"string","description":"Comisión del aliado"},"creacion":{"type":"date","description":"Fecha de creación"},"actualizacion":{"type":"date","description":"Fecha de actualización"},"estado":{"type":"boolean","description":"Disponibilidad"}},"required":["nombre","logo","tiempo"],"example":{"id":"471cf101-6bf6-4cab-b992-f2f59de9d4da","nombre":"Samsung","logo":"http://172.16.83.24:8080/api/v1/aliados/archivos/471cf101-6bf6-4cab-b992-f2f59de9d4da.png","orden":1,"linkMarcacion":"http://172.16.83.24:8080/api/v1/marcacion?uuidaliado=471cf101-6bf6-4cab-b992-f2f59de9d4da","linkAmigable":"https://shop.samsung.com.co","tiempo":7,"llave":"HF1V9H7-HTX4012-GVSGAB6-MYQBMK0","comision":"20%","creacion":"2022-09-24T11:16:27.032-05:00","actualizacion":"2022-09-24T11:16:27.032-05:00","estado":true}},"AliadoCuentaCategoria":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Identificador autogenerado del aliado"},"nombre":{"type":"string","description":"Nombre del aliado"},"logo":{"type":"string","description":"Logotipo"},"linkMarcacion":{"type":"string","description":"Link autogenerado para la marcación"},"linkAmigable":{"type":"string","description":"Dirección web del aliado"},"tiempo":{"type":"integer","description":"Duranción de la marcación en días"},"llave":{"type":"string","description":"Llave autogenerada"},"comision":{"type":"string","description":"Comisión del aliado"},"orden":{"type":"integer","description":"Orden en que aparece el aliado"},"creacion":{"type":"date","description":"Fecha de creación"},"actualizacion":{"type":"date","description":"Fecha de actualización"},"estado":{"type":"boolean","description":"Disponibilidad del aliado"},"categorias":{"type":"integer","description":"Cantidad de categorias del aliado"}},"required":["nombre","logo","tiempo"],"example":{"id":"471cf101-6bf6-4cab-b992-f2f59de9d4da","nombre":"Samsung","logo":"http://172.16.83.24:8080/api/v1/aliados/archivos/471cf101-6bf6-4cab-b992-f2f59de9d4da.png","linkMarcacion":"http://172.16.83.24:8080/api/v1/marcacion?uuidaliado=471cf101-6bf6-4cab-b992-f2f59de9d4da","linkAmigable":"https://shop.samsung.com.co","tiempo":7,"llave":"HF1V9H7-HTX4012-GVSGAB6-MYQBMK0","comision":"20%","creacion":"2022-09-24T11:16:27.032-05:00","orden":1,"actualizacion":"2022-09-24T11:16:27.032-05:00","estado":true,"categorias":2}},"CategoriasCompletas":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Identificador autogenerado de la categoria"},"nombre":{"type":"string","description":"Nombre de la categoria"},"linkMarcacion":{"type":"string","description":"Link autogenerado para la marcación"},"linkAmigableAliado":{"type":"string","description":"Link del aliado con la categoria"},"imagen":{"type":"string","description":"Imagen que identifica a la categoria"},"orden":{"type":"string","description":"Orden en que se muestran las categorias"},"estado":{"type":"boolean","description":"Disponibilidad de la categoria"}},"required":["nombre","linkAmigableAliado","imagen"],"example":{"id":"7794a3ef-38c5-41a8-9b06-5f0644b82d62","nombre":"Neveras","linkMarcacion":"http://172.16.83.24:8080/api/v1/marcacion?uuidaliado=471cf101-6bf6-4cab-b992-f2f59de9d4da&uuidcategoria=7794a3ef-38c5-41a8-9b06-5f0644b82d62","linkAmigableAliado":"https://shop.samsung.com.co/electrodomesticos/neveras-y-nevecones","imagen":"http://172.16.83.24:8080/api/v1/categorias/archivos/653e1b20-4849-4975-8c9e-423b09a53a7a.png","orden":0,"estado":true}},"DestacadasAliadoCategoria":{"type":"object","properties":{"idAliado":{"type":"string","format":"uuid","description":"Identificador autogenerado del aliado"},"nombreAliado":{"type":"string","description":"Nombre del aliado"},"imagenAliado":{"type":"string","description":"Logotipo del aliado"},"idCategoria":{"type":"string","format":"uuid","description":"Identificador autogenerado de la categoria"},"nombreCategoria":{"type":"string","description":"Nombre de la categoria"},"imagenCategoria":{"type":"string","description":"Logotipo de la categoria"},"linkMarcacion":{"type":"string","description":"Link autogenerado para la marcación"},"linkAmigableAliado":{"type":"string","description":"Dirección web del aliado con la categoria"},"orden":{"type":"integer","description":"orden en que se muestran los datos"},"estado":{"type":"boolean","description":"Disponibilidad del aliado"}},"required":["nombre","logo","tiempo"],"example":{"idAliado":"471cf101-6bf6-4cab-b992-f2f59de9d4da","nombreAliado":"Samsung","imagenAliado":"http://172.16.83.24:8080/api/v1/aliados/archivos/471cf101-6bf6-4cab-b992-f2f59de9d4da.png","idCategoria":"7794a3ef-38c5-41a8-9b06-5f0644b82d62","nombreCategoria":"Neveras","imagenCategoria":"http://172.16.83.24:8080/api/v1/categorias/archivos/653e1b20-4849-4975-8c9e-423b09a53a7a.png","linkMarcacion":"http://172.16.83.24:8080/api/v1/marcacion?uuidaliado=471cf101-6bf6-4cab-b992-f2f59de9d4da&uuidcategoria=7794a3ef-38c5-41a8-9b06-5f0644b82d62","linkAmigableAliado":"https://shop.samsung.com.co/electrodomesticos/neveras-y-nevecones","orden":0,"estado":true}},"AliadoDeCategoria":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Identificador autogenerado del aliado"},"nombre":{"type":"string","description":"Nombre del aliado"},"imagenAliado":{"type":"string","description":"Logotipo"},"orden":{"type":"integer","description":"Orden en que aparece el aliado"},"linkMarcacionAliado":{"type":"string","description":"Link autogenerado para la marcación del aliado"},"linkMarcacionCategoria":{"type":"string","description":"Link autogenerado para la marcación de categoría"},"linkAmigableAliado":{"type":"string","description":"Dirección web del aliado"},"imagenCategoria":{"type":"string","description":"Imagen de la categoría"},"tiempo":{"type":"integer","description":"Duranción de la marcación en días"},"llave":{"type":"string","description":"Llave autogenerada"},"estado":{"type":"boolean","description":"Disponibilidad del aliado"}},"example":{"id":"20558708-6b41-411f-a3ef-0462f0e73c55","nombre":"Claro","imagenAliado":"http://172.16.83.24:8090/api/v1/aliados/archivos/20558708-6b41-411f-a3ef-0462f0e73c55.png","tiempo":7,"llave":"8ZWP8GV-FH24Z7A-GEZTE7M-AAA4T3R","linkMarcacionAliado":"http://172.16.83.24:8090/api/v1/marcacion?uuidaliado=20558708-6b41-411f-a3ef-0462f0e73c55","linkMarcacionCategoria":"http://172.16.83.24:8090/api/v1/marcacion?uuidaliado=20558708-6b41-411f-a3ef-0462f0e73c55&uuidcategoria=dff6d73b-3f60-44bf-bfb3-4a9b67bc18a6","linkAmigableAliado":"https://tienda.claro.com.co/claro/celulares","imagenCategoria":"http://172.16.83.24:8090/api/v1/categorias/archivos/892791d3-5579-4e8a-9c3c-5a32177eff3c.png","orden":1,"estado":true}},"Categoria":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Identificador autogenerado de la categoria"},"nombre":{"type":"string","description":"Nombre de la categoria"},"estado":{"type":"boolean","description":"Disponibilidad de la categoria"},"creacion":{"type":"dateTime","description":"Fecha de creación"},"actualizacion":{"type":"dateTime","description":"Fechas de actualización"}},"required":["nombre"],"example":{"id":"7794a3ef-38c5-41a8-9b06-5f0644b82d62","nombre":"Neveras","estado":true,"creacion":"2022-09-24T14:27:06.773Z","actualizacion":"2022-09-24T14:27:06.773Z"}},"Paginacion":{"type":"object","properties":{"totalRegistros":{"type":"integer","description":"Número de elementos en total"},"paginaActual":{"type":"integer","description":"Página actual"},"totalPaginas":{"type":"integer","description":"Total de páginas"}},"example":{"totalRegistros":9,"paginaActual":1,"totalPaginas":1}}},"parameters":{"Pagina":{"in":"path","name":"pagina","required":false,"schema":{"type":"integer","description":"número de página"}},"Limite":{"in":"path","name":"limite","required":false,"schema":{"type":"integer","description":"limite de la consulta"}},"AdministrarNoObligatorio":{"in":"query","name":"esAdministrador","required":false,"schema":{"type":"boolean","description":"Determina si la consulta procede del administrador"}},"AdministrarObligatorio":{"in":"query","name":"esAdministrador","required":true,"schema":{"type":"boolean","description":"Determina si la consulta procede del administrador"}},"IdentificadorAliado":{"in":"path","name":"idAliado","required":true,"schema":{"type":"string","description":"identificador aliado"}},"IdentificadorCategoria":{"in":"path","name":"idCategoria","required":true,"schema":{"type":"string","description":"identificador categoría"}}}},"tags":[{"name":"Aliados","description":"Endpoints de aliados"},{"name":"Categorias","description":"Endpoint para categorias"},{"name":"AutenticacionJWT","description":"Endpoint para usuarios"}]}